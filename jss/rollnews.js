"use strict";var newsurl="https://www.mxnzp.com/api/news/list?typeId=515&page=1&app_id="+newskey.id+"&app_secret="+newskey.key;$(function(){$.ajax({type:"GET",url:newsurl,dataType:"json",beforeSend:function(e){},success:function(e){gamenews.newsvue=e.data,gamenews.newsvue=gamenews.newsvue.slice(0,5)}})});var gamenews=new Vue({el:"#gamenews",data:{current:0,message:"你好！",newsvue:[],listtype:["游戏 ","军事 ","财经 ","科技 ","娱乐 "],listcode:["515","511","509","510","520"],newpostvue:{title:"",ptime:"",content:""}},methods:{changetype:function(e){e="https://www.mxnzp.com/api/news/list?typeId="+this.listcode[e]+"&page=1&app_id="+newskey.id+"&app_secret="+newskey.key;$.ajax({type:"GET",url:e,dataType:"json",beforeSend:function(e){},success:function(e){gamenews.newsvue=e.data,gamenews.newsvue=gamenews.newsvue.slice(0,5)}})},addClass:function(e){this.current=e,this.changetype(e)},replace:function(){for(var e=0;e<gamenews.newpostvue.images.length;e++)gamenews.newpostvue.content=gamenews.newpostvue.content.replace(gamenews.newpostvue.images[e].position,'<img src="'+gamenews.newpostvue.images[e].imgSrc+'"style="width: 100%;padding: 5% 10%;">')},hidemodle:function(){$("#newsmodal").hide(),$(".blackscreen").hide()},getnewsdata:function(e){$("#newsmodal").show(),$(".blackscreen").show();e="https://www.mxnzp.com/api/news/details?newsId="+this.newsvue[e].newsId+"&app_id="+newskey.id+"&app_secret="+newskey.key;$.ajax({type:"GET",url:e,dataType:"json",beforeSend:function(e){},success:function(e){gamenews.newpostvue=e.data,gamenews.replace()}})}}});